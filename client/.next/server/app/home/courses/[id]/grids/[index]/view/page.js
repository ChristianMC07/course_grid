(()=>{var e={};e.id=626,e.ids=[626],e.modules={38013:e=>{"use strict";e.exports=require("mongodb")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},89261:e=>{"use strict";e.exports=require("postcss")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},57310:e=>{"use strict";e.exports=require("url")},71267:e=>{"use strict";e.exports=require("worker_threads")},44400:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=s(50482),a=s(69108),n=s(62563),i=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let c=["",{children:["home",{children:["courses",{children:["[id]",{children:["grids",{children:["[index]",{children:["view",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,58341)),"/usr/app/client/src/app/home/courses/[id]/grids/[index]/view/page.tsx"]}]},{}]},{}]},{}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,5677)),"/usr/app/client/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,92793)),"/usr/app/client/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/usr/app/client/src/app/home/courses/[id]/grids/[index]/view/page.tsx"],u="/home/courses/[id]/grids/[index]/view/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/home/courses/[id]/grids/[index]/view/page",pathname:"/home/courses/[id]/grids/[index]/view",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19132:(e,r,s)=>{let t={b70ff2577bde5ac693bfab1d8d9f0e48f97e1d42:()=>Promise.resolve().then(s.bind(s,8872)).then(e=>e.gridWeeks)};async function a(e,...r){return(await t[e]()).apply(null,r)}e.exports={b70ff2577bde5ac693bfab1d8d9f0e48f97e1d42:a.bind(null,"b70ff2577bde5ac693bfab1d8d9f0e48f97e1d42")}},48375:(e,r,s)=>{let t={"12a5e85350b0ec582d4d7e7061049638bf5cbe90":()=>Promise.resolve().then(s.bind(s,82244)).then(e=>e.createRow),"569808ad85651c1b96d70cd9d397957f76594384":()=>Promise.resolve().then(s.bind(s,82244)).then(e=>e.deleteRow),fa3b26c44213d22543500c77ff6289dcc5b4b870:()=>Promise.resolve().then(s.bind(s,82244)).then(e=>e.editRow)};async function a(e,...r){return(await t[e]()).apply(null,r)}e.exports={"12a5e85350b0ec582d4d7e7061049638bf5cbe90":a.bind(null,"12a5e85350b0ec582d4d7e7061049638bf5cbe90"),"569808ad85651c1b96d70cd9d397957f76594384":a.bind(null,"569808ad85651c1b96d70cd9d397957f76594384"),fa3b26c44213d22543500c77ff6289dcc5b4b870:a.bind(null,"fa3b26c44213d22543500c77ff6289dcc5b4b870")}},97999:(e,r,s)=>{Promise.resolve().then(s.bind(s,1024)),Promise.resolve().then(s.bind(s,65102)),Promise.resolve().then(s.bind(s,22315)),Promise.resolve().then(s.bind(s,34910)),Promise.resolve().then(s.bind(s,5511)),Promise.resolve().then(s.bind(s,51864))},57878:(e,r,s)=>{Promise.resolve().then(s.bind(s,1024)),Promise.resolve().then(s.bind(s,65102)),Promise.resolve().then(s.bind(s,22315)),Promise.resolve().then(s.bind(s,34910)),Promise.resolve().then(s.bind(s,1570))},40655:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},35303:()=>{},37412:(e,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var s in r)Object.defineProperty(e,s,{enumerable:!0,get:r[s]})}(r,{getImageProps:function(){return o},default:function(){return l}});let t=s(39694),a=s(83855),n=s(31900),i=t._(s(74931)),o=e=>{let{props:r}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(r))void 0===s&&delete r[e];return{props:r}},l=n.Image},5511:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(95344),a=s(30290),n=s(56506);function i(){let{user:e,isLoaded:r}=(0,a.aF)();return t.jsx("header",{children:(0,t.jsxs)("nav",{className:"flex items-center h-[15vh] justify-between p-6 lg:px-8 border border-t-0 border-l-0 border-r-0 border-b-gray-600","aria-label":"Global",children:[t.jsx("div",{className:"flex lg:flex-1",children:null!=e?t.jsx("a",{href:"/home",className:"-m-1.5 p-1.5",children:"Home"}):t.jsx("a",{href:"/",className:"-m-1.5 p-1.5",children:"Logo"})}),null==e&&(0,t.jsxs)("div",{className:"flex gap-x-4",children:[t.jsx(n.default,{href:"/sign-in",children:"Sign In"}),t.jsx(n.default,{href:"/sign-up",children:"Register"})]}),r&&e&&(0,t.jsxs)("div",{className:"flex gap-x-10",children:[t.jsx(n.default,{className:"text-blue-900 font-bold hover:text-blue-400 ",href:"/home/courses",children:"Courses"}),t.jsx(a.l8,{afterSignOutUrl:"/"})]})]})})}s(3729)},1570:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(95344),a=s(37412),n=s.n(a),i=s(3729),o=s.n(i),l=s(81202);s(13664);var c=s(28371),d=(0,c.$)("fa3b26c44213d22543500c77ff6289dcc5b4b870"),u=(0,c.$)("12a5e85350b0ec582d4d7e7061049638bf5cbe90"),x=(0,c.$)("569808ad85651c1b96d70cd9d397957f76594384");async function m({gridInfo:e,courseID:r,gridID:s}){let[a,c]=(0,i.useState)({}),[m,p]=(0,i.useState)(null),h=e=>{c(r=>({...r,[e]:!r[e]}))},g=e=>{p(r=>r===e?null:e)},f=o().useRef(null),[w,b]=(0,l.useFormState)(u,new FormData),[v,j]=(0,l.useFormState)(d,new FormData),y=async e=>{e.preventDefault(),j(new FormData(f.current)),p(null)};return t.jsx("section",{className:"pt-8",children:e.weeks&&e.weeks.length>0?e.weeks.map((i,o)=>(0,t.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,t.jsxs)("div",{className:"flex justify-between bg-black text-white p-4 gap-4",children:[t.jsx("h2",{className:"text-2xl font-black",children:i.weekName}),(0,t.jsxs)("div",{className:"flex gap-4",children:[t.jsx(n(),{width:30,height:30,alt:"Red trash bin to delete week",src:"/icons/delete-128.png"}),t.jsx(n(),{width:40,height:40,alt:"Show more button",src:"/icons/chevron.png",onClick:()=>h(o)})]})]}),a[o]&&t.jsx("div",{className:"overflow-x-auto mt-4",children:t.jsx("div",{className:"min-w-max",children:(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-x-4",children:[t.jsx("div",{className:"w-28 font-bold p-4 bg-gray-200",children:"Class ID"}),t.jsx("div",{className:"w-64 font-bold p-4 bg-gray-200",children:"Learning Outcome"}),t.jsx("div",{className:"w-64 font-bold p-4 bg-gray-200",children:"Enabling Outcome"}),t.jsx("div",{className:"w-64 font-bold p-4 bg-gray-200",children:"Material"}),t.jsx("div",{className:"w-64 font-bold p-4 bg-gray-200",children:"Assessment"}),t.jsx("div",{className:"w-64 font-bold p-4 bg-gray-200",children:"Notes"}),t.jsx("div",{className:"w-28 font-bold p-4 bg-gray-200",children:"Actions"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[i.rows&&i.rows.length>0?i.rows.map((a,i)=>t.jsx("div",{className:"flex gap-x-4",children:m===i?(0,t.jsxs)("form",{className:"flex gap-x-4",ref:f,children:[t.jsx("input",{type:"hidden",name:"courseID",value:r}),t.jsx("input",{type:"hidden",name:"gridName",value:e.gridName}),t.jsx("input",{type:"hidden",name:"weekName",value:e.weeks[o].weekName}),t.jsx("input",{type:"hidden",name:"rowIndex",value:i}),(0,t.jsxs)("div",{className:"flex flex-col w-28",children:[t.jsx("input",{className:"w-28 h-10 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline",name:"classID",defaultValue:a.classID}),v?.classIDError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[v.classIDError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"learningOutcome",defaultValue:a.learningOutcome}),v?.learningOutcomeError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[v.learningOutcomeError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"enablingOutcome",defaultValue:a.enablingOutcome}),v?.enablingOutcomeError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[v.enablingOutcomeError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"material",defaultValue:a.material}),v?.materialError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[v.materialError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"assessment",defaultValue:a.assessment}),v?.assessmentError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[v.assessmentError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"notes",defaultValue:a.notes}),v?.notesError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[v.notesError," "]}):""]}),(0,t.jsxs)("div",{className:"flex items-center gap-x-4",children:[t.jsx("button",{type:"submit",onClick:y,children:t.jsx(n(),{width:30,height:30,alt:"Red thrash bin to delete week",src:"/icons/save.png"})}),t.jsx("button",{type:"button",onClick:()=>p(null),children:t.jsx(n(),{width:30,height:30,alt:"Red thrash bin to delete week",src:"/icons/cancel.png"})}),"."]})]},v?.resetKey):(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-28 p-4 border border-slate-400",children:a.classID}),t.jsx("div",{className:"w-64 p-4 border border-slate-400 whitespace-pre text-wrap",children:a.learningOutcome}),t.jsx("div",{className:"w-64 p-4 border border-slate-400 whitespace-pre text-wrap",children:a.enablingOutcome}),t.jsx("div",{className:"w-64 p-4  border border-slate-400 whitespace-pre text-wrap",children:a.material}),t.jsx("div",{className:"w-64 p-4  border border-slate-400 whitespace-pre text-wrap",children:a.assessment}),t.jsx("div",{className:"w-64 p-4  border border-slate-400 whitespace-pre text-wrap",children:a.notes}),(0,t.jsxs)("form",{className:"flex items-center gap-x-4",children:[t.jsx("input",{type:"hidden",name:"courseID",value:r}),t.jsx("input",{type:"hidden",name:"gridName",value:e.gridName}),t.jsx("input",{type:"hidden",name:"gridID",value:s}),t.jsx("input",{type:"hidden",name:"weekName",value:e.weeks[o].weekName}),t.jsx("input",{type:"hidden",name:"rowIndex",value:i}),t.jsx(n(),{width:30,height:30,alt:"Green pencil. Edit selected row",src:"/icons/edit.png",onClick:()=>g(i),className:"cursor-pointer"}),t.jsx("button",{type:"submit",formAction:x,children:t.jsx(n(),{width:30,height:30,alt:"Red thrash bin to delete week",src:"/icons/delete-128.png"})})]})]})},i)):"",(0,t.jsxs)("form",{className:"flex py-6 gap-x-4 items-center",action:b,children:[t.jsx("input",{type:"hidden",name:"courseID",value:r}),t.jsx("input",{type:"hidden",name:"gridName",value:e.gridName}),t.jsx("input",{type:"hidden",name:"weekName",value:e.weeks[o].weekName}),(0,t.jsxs)("div",{className:"flex flex-col w-28",children:[t.jsx("input",{className:"w-28 h-10 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline",name:"classID",defaultValue:""}),w?.classIDError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[w.classIDError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"learningOutcome",defaultValue:""}),w?.learningOutcomeError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[w.learningOutcomeError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"enablingOutcome",defaultValue:""}),w?.enablingOutcomeError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[w.enablingOutcomeError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"material"}),w?.materialError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[w.materialError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"assessment"}),w?.assessmentError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[w.assessmentError," "]}):""]}),(0,t.jsxs)("div",{className:"flex flex-col w-64",children:[t.jsx("textarea",{className:"w-64 h-64 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:shadow-outline bg-white",name:"notes"}),w?.notesError?(0,t.jsxs)("span",{className:"text-red-500 flex flex-wrap",children:[w.notesError," "]}):""]}),t.jsx("div",{className:"flex items-center gap-x-4 w-28",children:t.jsx("button",{type:"submit",children:t.jsx(n(),{src:"/icons/plus.png",width:30,height:30,alt:"Plus button to add new row"})})})]},w?.resetKey)]})]})})})]},o)):t.jsx("p",{children:"No weeks to display"})})}},51864:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(95344),a=s(3729),n=s.n(a);class i extends n().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.log({error:e,errorInfo:r})}render(){return this.state.hasError?(0,t.jsxs)("div",{children:[t.jsx("h2",{children:"Oops, there is an error!"}),t.jsx("button",{type:"button",onClick:()=>this.setState({hasError:!1}),children:"Try again?"})]}):this.props.children}}let o=i},8872:(e,r,s)=>{"use strict";s.r(r),s.d(r,{gridWeeks:()=>c});var t=s(74471);s(68616);var a=s(93183),n=s(38013),i=s(42053);let o=process.env.MONGO_URL||"mongodb://mongo:27017/",l=new n.MongoClient(o);async function c(e,r){let{userId:s}=(0,a.I8)();try{l.connect();let t=l.db("dbGrids").collection("accounts"),a=await t.findOne({_id:s},{projection:{courses:{$elemMatch:{courseID:e}}}});if(console.log(a),!a||!a.courses||!(a.courses.length>0))return console.log("Course or grids not found."),[];{let e=a.courses[0].grids[parseInt(r)];return console.log(e),e}}catch(e){throw console.error("Error fetching course grids",e),e}finally{await l.close()}}(0,i.h)([c]),(0,t.U)("b70ff2577bde5ac693bfab1d8d9f0e48f97e1d42",c)},82244:(e,r,s)=>{"use strict";s.r(r),s.d(r,{createRow:()=>p,deleteRow:()=>h,editRow:()=>g});var t=s(98601);s(75811);var a=s(38013),n=s(34946),i=s(23803),o=s.n(i),l=s(43811),c=s(46893);let d=process.env.MONGO_URL||"mongodb://mongo:27017/",u="dbGrids",x="accounts",m=new a.MongoClient(d);async function p(e,r){let{userId:s}=(0,n.auth)(),t={classIDError:"",learningOutcomeError:"",enablingOutcomeError:"",materialError:"",assessmentError:"",notesError:""},a=r.get("courseID"),i=r.get("gridName"),c=r.get("weekName"),d=await f(s,a,i,c),p=r.get("classID"),h=r.get("learningOutcome"),g=r.get("enablingOutcome"),w=r.get("material"),b=r.get("assessment"),v=r.get("notes");if(p.length>10||!p?t.classIDError="Class ID can't be empty and max characters = 10":p=o()(p),h.length>255?t.learningOutcomeError="Learning Outcome max characters = 255":h=o()(h),g.length>255?t.enablingOutcomeError="Enabling Outcome max characters = 255":g=o()(g),w.length>255?t.materialError="Material max characters = 255":w=o()(w),b.length>255?t.assessmentError="Assessment max characters = 255":b=o()(w),v.length>255?t.notesError="Notes max characters = 255":v=o()(v),""!==Object.values(t).join(""))return console.log(t),t;try{await m.connect();let t=m.db(u).collection(x),n={classID:r.get("classID"),learningOutcome:r.get("learningOutcome"),enablingOutcome:r.get("enablingOutcome"),material:r.get("material"),assessment:r.get("assessment"),notes:r.get("notes")},i=`courses.${d.courseIndex}.grids.${d.gridIndex}.weeks.${d.weekIndex}.rows`,o=await t.updateOne({_id:s},{$push:{[i]:n}});return 1===o.modifiedCount?console.log("The row was added"):console.log("No luck"),(0,l.revalidatePath)(`/home/courses/${a}/grids/${d.gridIndex}/view`),{...e,resetKey:Date.now().toString()}}catch(e){console.log("This is the error and will appear in the server : "+e)}finally{await m.close()}}async function h(e){let{userId:r}=(0,n.auth)(),s=e.get("courseID"),t=e.get("gridName"),a=e.get("weekName"),i=parseInt(e.get("rowIndex")),o=await f(r,s,t,a),c=`courses.${o.courseIndex}.grids.${o.gridIndex}.weeks.${o.weekIndex}.rows.${i}`;try{await m.connect();let e=m.db(u).collection(x);await e.updateOne({_id:r},{$unset:{[c]:1}});let t=`courses.${o.courseIndex}.grids.${o.gridIndex}.weeks.${o.weekIndex}.rows`;await e.updateOne({_id:r},{$pull:{[t]:null}}),(0,l.revalidatePath)(`/home/courses/${s}/grids/${o.gridIndex}/view`)}catch(e){console.error("Error deleting row: "+e)}finally{await m.close()}}async function g(e,r){let{userId:s}=(0,n.auth)(),t=r.get("courseID"),a=r.get("gridName"),i=r.get("weekName"),c=parseInt(r.get("rowIndex")),d={classIDError:"",learningOutcomeError:"",enablingOutcomeError:"",materialError:"",assessmentError:"",notesError:""},p=await f(s,t,a,i),h=r.get("classID"),g=r.get("learningOutcome"),w=r.get("enablingOutcome"),b=r.get("material"),v=r.get("assessment"),j=r.get("notes");h.length>10||!h?d.classIDError="Class ID can't be empty and max characters = 10":h=o()(h),g.length>255?d.learningOutcomeError="Learning Outcome max characters = 255":g=o()(g),w.length>255?d.enablingOutcomeError="Enabling Outcome max characters = 255":w=o()(w),b.length>255?d.materialError="Material max characters = 255":b=o()(b),v.length>255?d.assessmentError="Assessment max characters = 255":v=o()(b),j.length>255?d.notesError="Notes max characters = 255":j=o()(j);let y=`courses.${p.courseIndex}.grids.${p.gridIndex}.weeks.${p.weekIndex}.rows.${c}`;if(""!==Object.values(d).join(""))return console.log(d),d;try{await m.connect();let r=m.db(u).collection(x),t={};t[`${y}.classID`]=h,t[`${y}.learningOutcome`]=g,t[`${y}.enablingOutcome`]=w,t[`${y}.material`]=b,t[`${y}.assessment`]=v,t[`${y}.notes`]=j;let a=await r.updateOne({_id:s},{$set:t});if(1===a.modifiedCount)return console.log("The row was updated successfully"),{...e,resetKey:Date.now().toString()};console.log("No changes were made")}catch(e){console.error("Error updating row: "+e)}finally{(0,l.revalidatePath)(`/home/courses/${t}/grids/${p.gridIndex}/view`,"page"),await m.close()}}async function f(e,r,s,t){try{await m.connect();let a=-1,n=-1,i=-1,o=m.db(u).collection(x),l=await o.findOne({_id:e});return l&&l.courses&&(a=l.courses.findIndex(e=>e.courseID===r),l.courses[a].grids&&(n=l.courses[a].grids.findIndex(e=>e.gridName===s))>=0&&l.courses[a].grids[n].weeks&&(i=l.courses[a].grids[n].weeks.findIndex(e=>e.weekName===t))),{courseIndex:a,gridIndex:n,weekIndex:i}}finally{await m.close()}}(0,c.ensureServerEntryExports)([p,h,g]),(0,t.createActionProxy)("12a5e85350b0ec582d4d7e7061049638bf5cbe90",p),(0,t.createActionProxy)("569808ad85651c1b96d70cd9d397957f76594384",h),(0,t.createActionProxy)("fa3b26c44213d22543500c77ff6289dcc5b4b870",g)},58341:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(25036),a=s(8872);let n=(0,s(86843).createProxy)(String.raw`/usr/app/client/src/app/components/week.tsx`),{__esModule:i,$$typeof:o}=n,l=n.default;async function c(e){let r=await (0,a.gridWeeks)(e.params.id,e.params.index);return(0,t.jsxs)("div",{className:"min-h-[85vh] bg-gray-100 px-10 pt-10",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:[e.params.id," - ",r.gridName," "]}),t.jsx(l,{gridInfo:r,courseID:e.params.id,gridID:e.params.index})]})}},5677:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f,metadata:()=>g});var t=s(25036),a=s(42195),n=s.n(a);s(5023);var i=s(93183),o=s(86843);let l=(0,o.createProxy)(String.raw`/usr/app/client/src/app/components/nav.tsx`),{__esModule:c,$$typeof:d}=l,u=l.default,x=(0,o.createProxy)(String.raw`/usr/app/client/src/app/errorBoundary.jsx`),{__esModule:m,$$typeof:p}=x,h=x.default,g={title:"Create Next App",description:"Generated by create next app"};function f({children:e}){return t.jsx(i.El,{children:t.jsx("html",{lang:"en",children:(0,t.jsxs)("body",{className:n().className,children:[t.jsx(u,{}),t.jsx(h,{children:e})]})})})}},92793:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(25036);function a(){return t.jsx("div",{className:"flex h-screen justify-center items-center",children:t.jsx("div",{className:"spinner"})})}},73881:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var r=require("../../../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,439,9,337,581,803,900,819,811],()=>s(44400));module.exports=t})();